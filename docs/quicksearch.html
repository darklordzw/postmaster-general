<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Modules Classes PostmasterGeneral ForbiddenError InvalidMessageError NotFoundError NotImplementedError RequestError ResponseError ResponseProcessingError TransportDisconnectedError UnauthorizedError Transport Events publishError Snowball event. Type: object Properties: Name Type Description isPacked boolean Indicates whether the snowball is tightly packed. connectionError Fired when the transport is unable to re-establish a connection. Type: object Properties: Name Type Description err Error The error that caused the disconnect. disconnected Fired when the transport is disconnected unexpectedly. Type: object reconnected Fired when the transport is able to reconnect. Type: object × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Classes Classes PostmasterGeneral ForbiddenError InvalidMessageError NotFoundError NotImplementedError RequestError ResponseError ResponseProcessingError TransportDisconnectedError UnauthorizedError Transport Events publishError Snowball event. Type: object Properties: Name Type Description isPacked boolean Indicates whether the snowball is tightly packed. connectionError Fired when the transport is unable to re-establish a connection. Type: object Properties: Name Type Description err Error The error that caused the disconnect. disconnected Fired when the transport is disconnected unexpectedly. Type: object reconnected Fired when the transport is able to reconnect. Type: object × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected # postmaster-general Dead-simple, ready-to-use, promise-based Node.js library for microservice communication over AMQP using amqplib. Featurespostmaster-general strives to be unopinionated, serving as a thin wrapper around amqplib that sets some sensible defaults and encourages best-practices, including: Dedicated channels for publishing, consuming, and asserting topology. Single-purpose listener queues, no mixing messages. Built-in RPC support. Automatic reconnect on connection failure and channel error. InstallNote: This library makes heavy use of the async/await keywords, and requires Node.js 7+. npm install --save postmaster-generalUsageThe following snippet showcases basic usage. const PostmasterGeneral = require('postmaster-general'); const postmaster = new PostmasterGeneral({ logLevel: 'debug' }); const printGreeting = async (message) =&gt; { console.log('[action:get_greeting] received'); return { greeting: 'Hello, ' + message.name }; }; // Start the Postmaster instance. postmaster.connect() .then(() =&gt; postmaster.addRabbitMQListener('action:get_greeting', printGreeting)) // Add a listener callback. .then(() =&gt; postmaster.startConsuming()) // Publish a fire-and-forget message. .then(() =&gt; postmaster.publish('action:get_greeting', { name: 'Bob' })) // Publish a message with a callback. .then(() =&gt; postmaster.request('action:get_greeting', { name: 'Steve' })) // Handle the callback. .then((res) =&gt; { console.log(res.greeting); }) // Shut everything down. .then(() =&gt; postmaster.shutdown()) .catch((err) =&gt; { console.log(err.message); }) .then(() =&gt; { process.exit(); });OptionsThe following options may be overridden in the constructor: { &quot;connectRetryDelay&quot;: 1000, &quot;connectRetryLimit&quot;: 3, &quot;deadLetterExchange&quot;: &quot;postmaster.dlx&quot;, &quot;handlerTimingResetInterval&quot;: 30000, &quot;heartbeat&quot;: 30, &quot;logLevel&quot;: &quot;warn&quot;, &quot;pm2&quot;: false, &quot;pm2InstanceVar&quot;: &quot;NODE_APP_INSTANCE&quot;, &quot;publishRetryDelay&quot;: 1000, &quot;publishRetryLimit&quot;: 3, &quot;queuePrefix&quot;: &quot;postmaster.queue&quot;, &quot;removeListenerRetryDelay&quot;: 1000, &quot;removeListenerRetryLimit&quot;: 3, &quot;shutdownTimeout&quot;: 30000, &quot;url&quot;: &quot;amqp://guest:guest@localhost:5672&quot; }LicenseLicensed under the MIT license. × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-index.html":{"id":"module-index.html","title":"Module: index","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Module: index A simple library for making microservice message bus calls using RabbitMQ via amqplib. https://www.npmjs.com/package/amqplib Classes PostmasterGeneral × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-index-PostmasterGeneral.html":{"id":"module-index-PostmasterGeneral.html","title":"Class: PostmasterGeneral","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Class: PostmasterGeneral index~ PostmasterGeneral new PostmasterGeneral( [options]) Constructor function for the PostmasterGeneral object. Parameters: Name Type Argument Description options object &lt;optional&gt; Members handlerTimings Accessor property for getting the current handler timings. outstandingMessageCount Accessor property for retrieving the number of messages being handled, subscribed and replies. Methods &lt;async&gt; _ackMessageAndReply(queueName, msg, pattern [, reply] [, noAck]) A &quot;safe&quot;, promise-based method for acknowledging messages that is guaranteed to resolve. Parameters: Name Type Argument Description queueName String The queue name of the channel the message was received on. msg Object The RabbitMQ message to acknowledge. pattern String The routing key of the message. reply Object &lt;optional&gt; The request body of the response message to send. noAck Boolean &lt;optional&gt; If truthy, skip the ack. Returns: Promise that resolves when the message is acknowledged. Type Promise &lt;async&gt; _assertTopology() Called to assert any RabbitMQ topology after a successful connection is established. Returns: Promise resolving when all defined topology has been confirmed. Type Promise &lt;async&gt; _checkTopology() Called periodically to confirm the existence of expected topology. Returns: Promise resolving when all defined topology has been confirmed. Type Promise _handleReply(msg) Called to handle a reply to an RPC-style message. Parameters: Name Type Description msg Object The RabbitMQ message. &lt;async&gt; _nackMessageAndReply(queueName, msg, pattern [, reply] [, noAck]) A &quot;safe&quot;, promise-based method for nacking messages that is guaranteed to resolve. Nacked messages will not be requeued. Parameters: Name Type Argument Description queueName String The queue name of the channel the message was received on. msg Object The RabbitMQ message to nack. pattern String The routing key of the message. reply String &lt;optional&gt; The error message to end in reply. noAck Boolean &lt;optional&gt; If truthy, skip the ack. Returns: Promise that resolves when the message is nacked. Type Promise &lt;async&gt; _rejectMessage(queueName, msg, pattern [, noAck]) A &quot;safe&quot;, promise-based method for rejecting messages that is guaranteed to resolve. Rejected messages will be requeued for retry. Parameters: Name Type Argument Description queueName String The queueName of the channel the message was received on. msg Object The RabbitMQ message to reject. pattern String The routing key of the message. noAck Boolean &lt;optional&gt; If truthy, skip the nack. Returns: Promise that resolves when the message is rejected. Type Promise _resolveTopic(pattern) Called to resolve the RabbitMQ topic key corresponding to an address. Parameters: Name Type Description pattern String _setHandlerTiming(pattern, start) Updates the timing data for message handler callbacks. Parameters: Name Type Description pattern String The pattern to record timing data for. start Date The time at which the handler started execution. &lt;async&gt; addRabbitMQListener(pattern, callback [, options]) Adds a new listener for the specified pattern, asserting any associated topology. Parameters: Name Type Argument Description pattern String The pattern to bind to. callback function The callback function to handle messages. This function MUST return a promise! options Object &lt;optional&gt; Additional options for queues, exchanges, and binding. Returns: A promise that resolves when the listener has been added. Type Promise &lt;async&gt; assertBinding(queue, exchange, topic [, options]) Binds a queue to an exchange, recording the binding in the topology definition. Parameters: Name Type Argument Description queue String The name of the queue to bind. exchange String The exchange to bind. topic String The routing key to bind. options Object &lt;optional&gt; Various binding options. Returns: Promise that resolves when the binding is complete. Type Promise &lt;async&gt; assertExchange(name, type [, options]) Asserts an exchange on RabbitMQ, adding it to the list of known topology. Parameters: Name Type Argument Description name String The name of the exchange. type String The type of exchange. options Object &lt;optional&gt; Various exchange options. Returns: Promise that resolves when the exchange has been asserted. Type Promise &lt;async&gt; assertQueue(name [, options]) Asserts a queue on RabbitMQ, adding it to the list of known topology. Parameters: Name Type Argument Description name String The name of the queue. options Object &lt;optional&gt; Various queue options. Returns: Promise that resolves when the queue has been asserted. Type Promise &lt;async&gt; connect() Called to connect to RabbitMQ and build all channels. Returns: Type Promise publish(routingKey [, message] [, options]) Publishes a fire-and-forget message that doesn't wait for an explicit response. Parameters: Name Type Argument Description routingKey String The routing key to attach to the message. message Object &lt;optional&gt; The message data to publish. options Object &lt;optional&gt; Optional publishing options. Fires: index#event:publishError Returns: Type Promise &lt;async&gt; removeRabbitMQListener(pattern [, exchange] [, prefix]) Called to remove a listener. Note that this call DOES NOT delete any queues or exchanges. It is recommended that these constructs be made to auto-delete or expire if they are not intended to be persistent. Parameters: Name Type Argument Description pattern String The pattern to match. exchange String &lt;optional&gt; The name of the exchange to remove the binding. prefix String &lt;optional&gt; The queue prefix to match. Returns: Promise that resolves when the listener has been removed. Type Promise request(routingKey [, message] [, options]) Publishes an RPC-style message that waits for a response. Parameters: Name Type Argument Description routingKey String The routing key to attach to the message. message Object &lt;optional&gt; The message data to publish. options Object &lt;optional&gt; Optional publishing options. Returns: Type Promise &lt;async&gt; shutdown() Called to safely shutdown the RabbitMQ connection while allowing outstanding messages to process. &lt;async&gt; startConsuming() Called to start consuming incoming messages from all consumer channels. Returns: Promise that resolves when all consumers have begun consuming. Type Promise &lt;async&gt; stopConsuming( [awaitReplies]) Called to stop consuming incoming messages from all channels. Parameters: Name Type Argument Description awaitReplies Boolean &lt;optional&gt; If truthy, this function will skip cancelling the reply consumer. Returns: Promise that resolves when all consumers have stopped consuming. Type Promise × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_errors.html":{"id":"module-lib_transports_errors.html","title":"Module: lib/transports/errors","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Module: lib/transports/errors Module representing a set of transport errors. Classes ForbiddenError InvalidMessageError NotFoundError NotImplementedError RequestError ResponseError ResponseProcessingError TransportDisconnectedError UnauthorizedError × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_errors-ForbiddenError.html":{"id":"module-lib_transports_errors-ForbiddenError.html","title":"Class: ForbiddenError","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Class: ForbiddenError lib/transports/errors~ ForbiddenError Generated when the caller is authenticated but forbidden to make the request. new ForbiddenError() See: HTTP 403 × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_errors-InvalidMessageError.html":{"id":"module-lib_transports_errors-InvalidMessageError.html","title":"Class: InvalidMessageError","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Class: InvalidMessageError lib/transports/errors~ InvalidMessageError Generated when the sent message was invalid. new InvalidMessageError() See: HTTP 400 × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_errors-NotFoundError.html":{"id":"module-lib_transports_errors-NotFoundError.html","title":"Class: NotFoundError","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Class: NotFoundError lib/transports/errors~ NotFoundError Generated when the requested resource could not be found. new NotFoundError() See: HTTP 404 × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_errors-NotImplementedError.html":{"id":"module-lib_transports_errors-NotImplementedError.html","title":"Class: NotImplementedError","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Class: NotImplementedError lib/transports/errors~ NotImplementedError Generated when a function is called that isn't implemented. new NotImplementedError() × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_errors-RequestError.html":{"id":"module-lib_transports_errors-RequestError.html","title":"Class: RequestError","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Class: RequestError lib/transports/errors~ RequestError Generated when there is an error sending a message. new RequestError() × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_errors-ResponseError.html":{"id":"module-lib_transports_errors-ResponseError.html","title":"Class: ResponseError","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Class: ResponseError lib/transports/errors~ ResponseError Generated when there is an error with the response. Base class for more specific response errors. new ResponseError() × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_errors-ResponseProcessingError.html":{"id":"module-lib_transports_errors-ResponseProcessingError.html","title":"Class: ResponseProcessingError","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Class: ResponseProcessingError lib/transports/errors~ ResponseProcessingError Generated when there is a general error while processing the request. new ResponseProcessingError() See: HTTP_500 × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_errors-TransportDisconnectedError.html":{"id":"module-lib_transports_errors-TransportDisconnectedError.html","title":"Class: TransportDisconnectedError","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Class: TransportDisconnectedError lib/transports/errors~ TransportDisconnectedError Generated when the transport is disconnected and cannot reconnect. new TransportDisconnectedError() × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_errors-UnauthorizedError.html":{"id":"module-lib_transports_errors-UnauthorizedError.html","title":"Class: UnauthorizedError","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Class: UnauthorizedError lib/transports/errors~ UnauthorizedError Generated when the caller is not authenticated to make the request. new UnauthorizedError() See: HTTP 401 × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_http.html":{"id":"module-lib_transports_http.html","title":"Module: lib/transports/http","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Module: lib/transports/http An HTTP transport module for postmaster-general. × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_transport.html":{"id":"module-lib_transports_transport.html","title":"Module: lib/transports/transport","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Module: lib/transports/transport Base class of all transport modules. Classes Transport × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "},"module-lib_transports_transport-Transport.html":{"id":"module-lib_transports_transport-Transport.html","title":"Class: Transport","body":" Documentation Modules indexlib/transports/errorslib/transports/httplib/transports/transport Classes index~PostmasterGenerallib/transports/errors~ForbiddenErrorlib/transports/errors~InvalidMessageErrorlib/transports/errors~NotFoundErrorlib/transports/errors~NotImplementedErrorlib/transports/errors~RequestErrorlib/transports/errors~ResponseErrorlib/transports/errors~ResponseProcessingErrorlib/transports/errors~TransportDisconnectedErrorlib/transports/errors~UnauthorizedErrorlib/transports/transport~Transport Events index#event:publishErrorlib/transports/transport~Transport#event:connectionErrorlib/transports/transport~Transport#event:disconnectedlib/transports/transport~Transport#event:reconnected Class: Transport lib/transports/transport~ Transport Base class of all transports. new Transport( [options]) Constructor for the Transport object. Parameters: Name Type Argument Description options object &lt;optional&gt; Optional settings. Properties Name Type Argument Description timingsResetInterval number &lt;optional&gt; How frequently should the transport clear its timing metrics, in milliseconds. Extends EventEmitter Members listening :boolean Tracks whether or not the transport is currently listening. Type: boolean timings :object A mapping of topics to timing metrics. Type: object timingsResetInterval :number How frequently should the transport clear its timing metrics, in milliseconds. Type: number Methods addListener(routingKey, callback [, options]) Adds a new message handler. Parameters: Name Type Argument Description routingKey string The routing key of the message to handle. callback function The function to call when a new message is received. options object &lt;optional&gt; Optional params for configuring the handler. Properties Name Type Argument Description correlationId object &lt;optional&gt; Optional marker used for tracing requests through the system. initiator object &lt;optional&gt; Optional marker used for identifying the user who generated the initial request. Returns: Type Promise connect() Connects the transport from to any services it needs to function. Returns: Type Promise disconnect() Disconnects the transport from any services it references. Returns: Type Promise listen() Starts listening to messages. Returns: Type Promise publish(routingKey [, message] [, options]) Publishes a fire-and-forget message that is not expected to return a meaningful response. Parameters: Name Type Argument Description routingKey string The routing key to attach to the message. message object &lt;optional&gt; The message data to publish. options object &lt;optional&gt; Optional publishing options. Properties Name Type Argument Description correlationId object &lt;optional&gt; Optional marker used for tracing requests through the system. initiator object &lt;optional&gt; Optional marker used for identifying the user who generated the initial request. Throws: TypeError RequestError Returns: Type Promise removeListener(routingKey) Deletes a message handler. Parameters: Name Type Description routingKey string The routing key of the handler to remove. Returns: Type Promise request(routingKey [, message] [, options]) Publishes an RPC-style message that waits for a response. Parameters: Name Type Argument Description routingKey string The routing key to attach to the message. message object &lt;optional&gt; The message data to publish. options object &lt;optional&gt; Optional publishing options. Properties Name Type Argument Description correlationId object &lt;optional&gt; Optional marker used for tracing requests through the system. initiator object &lt;optional&gt; Optional marker used for identifying the user who generated the initial request. Throws: TypeError RequestError Returns: Type Promise resolveTopic(routingKey) Processes a routing key into a format appropriate for the transport type. Parameters: Name Type Description routingKey string The routing key to convert. Returns: Type string Events connectionError Fired when the transport is unable to re-establish a connection. Type: object Properties: Name Type Description err Error The error that caused the disconnect. disconnected Fired when the transport is disconnected unexpectedly. Type: object reconnected Fired when the transport is able to reconnect. Type: object × Search results Close Documentation generated by JSDoc 3.5.5 on 2018-01-17T14:26:22-05:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
